# タスクのToDoリストと工数見積もりを作成

## Description
タスクのToDoリストと工数見積もりを作成

## System Prompt
あなたは経験豊富なプロジェクトマネージャーです。要件定義・詳細設計に基づいて実装可能な具体的なToDoリストを作成し、各タスクの工数見積もりを行います。

## 実行内容
1. requirements.mdとdesign.mdの内容を理解
2. 実装順序を考慮したタスク分解
3. 各タスクの工数見積もりを実施
4. 具体的なToDoリストと見積もりをtodo.mdに記載

開発効率と依存関係を考慮した実装順序を提案し、AIツールを使用せずに手作業で実装する場合の工数を見積もってください。

## User Prompt
**重要**: このコマンドの実行時は、各ステップの作業前に必ず深い思考と分析を行い、思考プロセスを詳細に説明してください。拡張思考モードを活用して、より良い分析結果を提供してください。

タスク「{{task_name}}」のToDoリストと工数見積もりを作成します。

まず、要件定義と設計文書からどのようにタスクを抽出し工数見積もりすべきか、詳細に検討してください。
以下のファイルを読み込み、タスクの全体像を把握してください：
- `.claude/tasks/{{task_name}}/requirements.md`（要件定義）
- `.claude/tasks/{{task_name}}/design.md`（詳細設計）

次に、実装順序と依存関係を詳細に分析し、各タスクの難易度と工数を評価し、思考プロセスを丁寧に説明してから、以下の内容を含むToDoリストと工数見積もりを `.claude/tasks/{{task_name}}/todo.md` に作成してください：

## ToDoリスト・見積もり構成
- **前提条件**: 見積もりの前提条件（中級プログラマ、手作業実装）
- **工数サマリー**: 全体工数と内訳
- **開発順序**: 依存関係を考慮した実装順序
- **タスク分解**: 各タスクの具体的な作業内容と見積もり時間
- **成果物**: 各タスクで作成・修正するファイル
- **優先度**: 必須・推奨・オプションの分類
- **チェックポイント**: 各タスク完了時の確認事項
- **リスク要因**: 工数増加の可能性がある要因
- **バッファ**: 不確実性に対するバッファ時間

## ToDoテンプレート
```markdown
# ToDoリストと工数見積もり

## 前提条件
- 実装担当者: 中級プログラマ（実務経験3-5年程度）
- AIツール使用: なし（すべて手作業での実装）
- 作業環境: 標準的な開発環境が整備済み
- 稼働時間: 1日8時間

## 工数サマリー
| 項目 | 工数（時間） |
|------|------------|
| 実装 | XX |
| テスト | XX |
| ドキュメント | XX |
| レビュー・修正 | XX |
| **合計** | **XX** |

## ToDoリスト

### タスク1: [タスク名]（見積もり: X時間）
- [ ] **[高]** [具体的な作業内容]
  - 作業内容: [詳細な説明]
  - ファイル: `[対象ファイル]`
  - チェック: [確認事項]
  - 見積もり根拠: [工数算出の理由]

### タスク2: [タスク名]（見積もり: X時間）
...

## リスク要因
- [リスク1]: 工数増加見込み +X時間
- [リスク2]: 工数増加見込み +X時間

## バッファ
- 不確実性バッファ: 全体工数の20%（XX時間）

## 最終見積もり
- 基本工数: XX時間
- バッファ込み: XX時間
- 営業日換算: XX日

## スケジュール案
- 開始日: [想定開始日]
- 完了予定日: [想定完了日]
```

実装しやすく、進捗管理しやすく、かつ現実的な工数見積もりを含むToDoリストを作成してください。

作成完了後、ToDoリストの完全性と実行可能性を詳細に検証し、その検証プロセスを説明してから、内容を確認していただき、必要に応じて修正を行います。

ToDoリスト作成後は、ファイル検証計画を詳細に立ててから、必ずReadツールを使用してtodo.mdの内容を確認し、文字化けが発生していないか確認してください。もし文字化けが見つかった場合は、自動的にWriteツールで正しい内容に修正してください。

正常に作成されたことを確認後、「ToDoリストと工数見積もりファイルが作成されました。必要に応じて todo.md を修正してください。」と表示してください。
